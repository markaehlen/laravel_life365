"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7148],{7148:(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});const n={metaInfo:{title:"Concrete Mixtures"},components:{KonvaSLXSectionPlot:i(5986).Z},props:{projectData:Object,serviceLifeResults:Object,rebarSteelTypes:Object,inhibitors:Object,barrierTypes:Object,colors:[Object,Array]},computed:{},mounted:function(){},created:function(){},data:function(){return{userAgent:this.$page.props.isMobile,area_unit:null,volume_unit:null,capacity_unit:null,weight_unit:null,rebarSteelTypesOptions:this.rebarSteelTypes,inhibitorsOptions:this.inhibitors,serviceLifeGraphs:this.serviceLifeResults.results,structure:this.projectData.project.projectData.typeOfStructure,concUnits:this.projectData.project.projectData.concentrationUnits,alternatives:this.projectData.project.projectData.alts.alt,activeAlternativeName:this.projectData.project.projectData.alts.alt[0].alternative.name,activeAlternativeDesc:this.projectData.project.projectData.alts.alt[0].alternative.description,barrierTypesOptions:this.barrierTypes,visibleGraph:"service-life",defaultColDef:{flex:1},altColors:this.colors,activeAlternativeIndex:0,needToRegenerateGraphs:!1,needToCompute:!1}},methods:{}};const a=(0,i(1900).Z)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("KonvaSLXSectionPlot",{attrs:{plotType:t.structure,projectData:t.projectData.project.projectData,units:this.serviceLifeResults.results["Cross-Section Graph"].results[t.activeAlternativeName].units,concUnits:this.serviceLifeResults.results["Cross-Section Graph"].results[t.activeAlternativeName].concentrationUnits,maxConc:this.serviceLifeResults.results["Cross-Section Graph"].results[t.activeAlternativeName].maxConcentration,allPoints:this.serviceLifeResults.results["Cross-Section Graph"].results[t.activeAlternativeName].allPoints,thickness:this.serviceLifeResults.results["Cross-Section Graph"].results[t.activeAlternativeName].overallThickness,clearCover:this.serviceLifeResults.results["Cross-Section Graph"].results[t.activeAlternativeName].clearCover,iCurrentlyDisplayedMonth:this.serviceLifeResults.results["Cross-Section Graph"].results[t.activeAlternativeName].iMonthOfInit,justSection:!1}})}),[],!1,null,null,null).exports},5986:(t,e,i)=>{i.d(e,{Z:()=>a});const n={inheritAttrs:!1,props:{units:String,concUnits:String,justSection:Boolean,plotType:String,maxConc:Number,allPoints:Array,thickness:Number,clearCover:Number,iCurrentlyDisplayedMonth:Number,projectData:Object},data:function(){return{configKonva:{width:1e3,height:200},dFactor:1,maxModelDepth:null,currentlyDisplayedMonth:null,dDepthToServiceLifeModeledLine:null,area_unit:null,volume_unit:null,capacity_unit:null,weight_unit:null,length_unit:null,standard_length_unit:null,font_size_nrml:15,font_size_small:15}},mounted:function(){var t=this.$refs.slsxStage.getNode(),e=new Konva.Layer;this.currentlyDisplayedMonth=this.iCurrentlyDisplayedMonth;var i=document.querySelector("#figureCanvas");this.configKonva.width=i.offsetWidth,"slabs and walls (1-D)"==this.plotType?this.configKonva.height=.3*i.offsetWidth>i.offsetHeight?i.offsetHeight:.3*i.offsetWidth:this.configKonva.height=.7*i.offsetWidth>i.offsetHeight?i.offsetHeight:.7*i.offsetWidth,this.configKonva.height<"100"&&(this.font_size_nrml=12),"kg/cub. m."==this.concUnits&&(this.dFactor=this.convertPctConc_to_KgPerM3(1)),"lb/cub. yd."==this.concUnits&&(this.dFactor=this.convertPctConc_to_LbsPerY3(1)),this.maxModelDepth=this.getMaximumModelableDepthGivenConcTypeAndUnits(this.projectData),this.thickness>this.maxModelDepth&&(this.dDepthToServiceLifeModeledLine=this.maxModelDepth),this.getRedefinedUnits(this.projectData.baseUnits),0==this.currentlyDisplayedMonth&&(this.currentlyDisplayedMonth=1);var n=parseInt(this.configKonva.height/5),a=parseInt(this.configKonva.height/5),s=2*a,o=parseInt(this.configKonva.height/15),r=o/3,l=0,h=0,c=0,d=0,p=0,v=0,u=0,f=0,k=0;if("slabs and walls (1-D)"==this.plotType){l=n,h=this.configKonva.height-a,c=parseInt(2*s),v=(p=this.configKonva.width-parseInt(1.7*s))-c,u=h-l,e.add(new Konva.Rect({x:c,y:l,width:v,height:u,stroke:"black",strokeWidth:1}));var g=parseInt(Math.abs(l-h)*this.clearCover/this.thickness),m=parseInt(Math.abs(l-h)*this.dDepthToServiceLifeModeledLine/this.thickness);if(this.dDepthToServiceLifeModeledLine<this.thickness&&this.dDepthToServiceLifeModeledLine>0){var b=parseInt((c+p)/2);e.add(new Konva.Line({points:[b-5,l+m,b+5,l+m],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[b,l,b,l+m],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[b+r,l-r,b-r,l+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[b+r,l+m-r,b-r,l+m+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Text({x:b,y:l-20,text:"Modeled Depth - ".concat(this.dDepthToServiceLifeModeledLine," ").concat(this.units),fontSize:this.font_size_nrml,fontFamily:"Calibri",fill:"black",align:"center"}))}e.add(new Konva.Line({points:[c-5-10,l,c-5,l],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-10,h,c-5,h],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5,l,p+5+10,l],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p-o,l+g,p+5+10,l+g],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-5,l,c-5-5,h],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5+5,l,p+5+5,l+g],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-5+r,l-r,c-5-5-r,l+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-5+r,h-r,c-5-5-r,h+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5+5+r,l-r,p+5+5-r,l+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5+5+r,l+g-r,p+5+5-r,l+g+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Text({x:c-30,y:.7*(l+h),text:parseFloat(this.thickness).toFixed(2)+" "+this.units,fontSize:this.font_size_nrml,fontFamily:"Calibri",fill:"black",align:"center",rotation:270})),e.add(new Konva.Text({x:p+5+10,y:l+g/2-10,text:parseFloat(this.clearCover).toFixed(2)+"\n"+this.units,fontSize:this.font_size_nrml,fontFamily:"Calibri",fill:"black",align:"center"}))}else if("square column/beams (2-D)"==this.plotType){l=n,h=this.configKonva.height-a,c=parseInt((this.configKonva.width-h-l)/2),p=this.configKonva.width-c,p=c+(v=u=h-l),e.add(new Konva.Rect({x:c,y:l,width:v,height:u,stroke:"black",strokeWidth:1}));var w=parseInt(Math.abs(l-h)*this.clearCover/this.thickness);e.add(new Konva.Line({points:[c-5-10,l,c-5,l],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-10,h,c-5,h],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5,l,p+5+10,l],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p-o,l+w,p+5+10,l+w],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-5,l,c-5-5,h],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5+5,l,p+5+5,l+w],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-5+r,l-r,c-5-5-r,l+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[c-5-5+r,h-r,c-5-5-r,h+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5+5+r,l-r,p+5+5-r,l+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[p+5+5+r,l+w-r,p+5+5-r,l+w+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Text({x:c-30,y:.65*(l+h),text:parseFloat(this.thickness).toFixed(2)+" "+this.units,fontSize:this.font_size_nrml,fontFamily:"Calibri",fill:"black",align:"center",rotation:270})),e.add(new Konva.Text({x:p+5+10,y:l+w/5,text:parseFloat(this.clearCover).toFixed(2)+" "+this.units,fontSize:this.font_size_nrml,fontFamily:"Calibri",fill:"black",align:"center"}))}else if("circular columns (2-D)"==this.plotType){l=n,h=this.configKonva.height-a,c=parseInt((this.configKonva.width-h-l)/2),p=this.configKonva.width-c,v=u=h-l,d=parseInt((c+p)/2);var x=parseInt((l+h)/2),y=l+(f=h-l)/2-(k=parseInt(f*(this.thickness-2*this.clearCover)/this.thickness))/2;e.add(new Konva.Ellipse({x:parseInt(d),y:parseInt(x),radiusX:f/2,radiusY:f/2,stroke:"black",strokeWidth:1}));var K=parseInt(d-f/2),C=parseInt(d+f/2);e.add(new Konva.Line({points:[K-5-10,l,K-5,l],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[K-5-10,h,K-5,h],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[d+15,l,C+5+10,l],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[d+k/2-5,y,C+5+10,y],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[K-5-5,l,K-5-5,h],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[C+5+5,l,C+5+5,y],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[K-5-5+r,l-r,K-5-5-r,l+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[K-5-5+r,h-r,K-5-5-r,h+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[C+5+5+r,l-r,C+5+5-r,l+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Line({points:[C+5+5+r,y-r,C+5+5-r,y+r],stroke:"black",strokeWidth:1})),e.add(new Konva.Text({x:K-5-25,y:.7*(l+h),text:parseFloat(this.thickness).toFixed(2)+" "+this.units,fontSize:this.font_size_nrml,rotation:270,fontFamily:"Calibri",fill:"black",align:"center"})),e.add(new Konva.Text({x:C+5+10,y:l+(h-l)/10-5,text:parseFloat(this.clearCover).toFixed(2)+" "+this.units,fontSize:this.font_size_nrml,fontFamily:"Calibri",fill:"black",align:"center"}))}if(!this.justSection)if("circular columns (2-D)"==this.plotType){for(var _=1e10,M=0;M<this.allPoints.length;M++)for(var L=this.allPoints[M].data,W=0;W<L.length;W++)for(var D=0;D<L[W].length;D++)_=Math.min(_,L[W][D]);var S=this.allPoints[this.currentlyDisplayedMonth-1].data;_*=this.dFactor,_=Math.max(0,_);for(var I=K-2;I<(K+C)/2+2;I++)for(var T=l-1;T<(l+h)/2+2;T++){var j=(I-K)/(C/2-K/2),F=(T-l)/(h/2-l/2);j=Math.min(1,j),F=Math.min(1,F);var R=parseInt(j*S[0].length-2),P=parseInt(F*S.length-2);R=Math.max(0,Math.min(R,S[0].length-2));var z=S[P=Math.max(0,Math.min(P,S.length-2))][R],U=((z*=this.dFactor)-_)/(this.maxConc-_)*255;U=Math.max(0,Math.min(255,U));var A=f/2,N=(K+C)/2+1-I,O=(l+h)/2+1-T;Math.pow(Math.pow(N,2)+Math.pow(O,2),.5)<=A&&(e.add(new Konva.Rect({x:I,y:T,width:1,height:1,fill:this.getColor(U)})),e.add(new Konva.Rect({x:K+C-I,y:T,width:1,height:1,fill:this.getColor(U)})),e.add(new Konva.Rect({x:K+C-I,y:l+h-T,width:1,height:1,fill:this.getColor(U)})),e.add(new Konva.Rect({x:I,y:l+h-T,width:1,height:1,fill:this.getColor(U)})))}}else if("square column/beams (2-D)"==this.plotType){for(_=1e10,M=0;M<this.allPoints.length;M++)for(L=this.allPoints[M].data,W=0;W<L.length;W++)for(D=0;D<L[W].length;D++)_=Math.min(_,L[W][D]);S=this.allPoints[this.currentlyDisplayedMonth-1].data;_*=this.dFactor;for(I=c+1;I<(c+p)/2+3;I++)for(T=l+1;T<(l+h)/2+3;T++){j=(I-c-1)/(p/2-c/2),F=(T-l-1)/(h/2-l/2);j=Math.min(1,j),F=Math.min(1,F);R=parseInt(j*S[0].length),P=parseInt(F*S.length);R=Math.max(0,Math.min(R,S[0].length-2));z=S[P=Math.max(0,Math.min(P,S.length-2))][R],U=((z*=this.dFactor)-_)/(this.maxConc-_)*255;U=Math.max(0,Math.min(255,U)),e.add(new Konva.Rect({x:I,y:T,width:1,height:1,fill:this.getColor(U)})),e.add(new Konva.Rect({x:c+p-I,y:T,width:1,height:1,fill:this.getColor(U)})),e.add(new Konva.Rect({x:c+p-I,y:l+h-T,width:1,height:1,fill:this.getColor(U)})),e.add(new Konva.Rect({x:I,y:l+h-T,width:1,height:1,fill:this.getColor(U)}))}}else if("slabs and walls (1-D)"==this.plotType){for(var G=1e10,$=0;$<this.allPoints.length;$++)for(var E=this.allPoints[$].data,X=0;X<E.length;X++)G=Math.min(G,E[X][0]);var Z=this.allPoints[this.currentlyDisplayedMonth-1].data;G*=this.dFactor;for(var q=l+1;q<l+u;q++){var H=parseInt((q-l-1)/(l+u-l-1)*Z.length-1),Y=Z[H=Math.max(0,Math.min(H,Z.length-1))][0],V=((Y*=this.dFactor)-G)/(this.maxConc-G)*255;V=Math.max(0,Math.min(255,V)),e.add(new Konva.Line({points:[c+1,q,c+v-1,q],stroke:this.getColor(V),strokeWidth:1}))}}if(!this.justSection){var B=parseInt(1*s),J=l,Q=h,tt=parseInt(s/6),et=Q-J;e.add(new Konva.Rect({x:B,y:J,width:tt,height:et,stroke:"black",strokeWidth:1}));for(W=0;W<7;W++){var it=B-50,nt=J+parseInt(W/6*et),at=(6-W)/6*this.maxConc;e.add(new Konva.Text({x:it,y:nt-5,text:parseFloat(at).toFixed(2),fontSize:this.font_size_small,fontFamily:"Calibri",fill:"black",align:"center"})),e.add(new Konva.Line({points:[B-10,nt,B,nt],stroke:"black",strokeWidth:1}))}for(W=J+1;W<Q;W++){U=255*(1-(W-J+1)/(Q-J));U=Math.max(0,Math.min(255,U)),e.add(new Konva.Line({points:[B+1,W,B+tt-1,W],stroke:this.getColor(U),strokeWidth:1}))}e.add(new Konva.Text({x:B-50,y:J-34,text:"Concentration \n ("+this.concUnits+")",fontSize:this.font_size_small,fontFamily:"Calibri",fill:"black",align:"center"}))}if(this.justSection)var st="black";else st="white";if("slabs and walls (1-D)"==this.plotType){var ot=parseInt(Math.abs(l-h)*this.clearCover/this.thickness);if(e.add(new Konva.Circle({x:c+25,y:l+ot+o/2,radius:o/2,stroke:st,strokeWidth:1})),e.add(new Konva.Circle({x:p-25,y:l+ot+o/2,radius:o/2,stroke:st,strokeWidth:1})),this.clearCover<.4*this.thickness)e.add(new Konva.Circle({x:c+25,y:h-ot-o/2,radius:o/2,stroke:st,strokeWidth:1})),e.add(new Konva.Circle({x:p-25,y:h-ot-o/2,radius:o/2,stroke:st,strokeWidth:1}));else{var rt=parseInt((l+ot+o+h)/2)+parseInt(o/2);e.add(new Konva.Circle({x:c+25,y:rt,radius:o/2,stroke:st,strokeWidth:1})),e.add(new Konva.Circle({x:p-25,y:rt,radius:o/2,stroke:st,strokeWidth:1}))}}else if("square column/beams (2-D)"==this.plotType){ot=parseInt(Math.abs(l-h)*this.clearCover/this.thickness);e.add(new Konva.Circle({x:c+ot,y:l+ot+o/2,radius:o/2,stroke:st,strokeWidth:1})),e.add(new Konva.Circle({x:p-ot,y:l+ot+o/2,radius:o/2,stroke:st,strokeWidth:1})),e.add(new Konva.Circle({x:c+ot,y:h-ot-o/2,radius:o/2,stroke:st,strokeWidth:1})),e.add(new Konva.Circle({x:p-ot,y:h-ot-o/2,radius:o/2,stroke:st,strokeWidth:1}))}else if("circular columns (2-D)"==this.plotType){d=parseInt((K+C)/2);x=parseInt((l+h)/2);f=h-l;for(W=0;W<16;W++){var lt=W/16*2*Math.PI;it=parseInt(d+Math.sin(lt)*k/2),nt=parseInt(x-Math.cos(lt)*k/2);e.add(new Konva.Circle({x:it,y:nt,radius:2,stroke:st,strokeWidth:1}))}}t.add(e)},created:function(){},methods:{convertPctConc_to_KgPerM3:function(t){return 2350*t/100},convertPctConc_to_LbsPerY3:function(t){return 3949*t/100},getRedefinedUnits:function(t){var e=this;axios.get("/change-units-string/".concat(t)).then((function(t){var i=t.data;e.area_unit=i.area_unit,e.volume_unit=i.volume_unit,e.weight_unit=i.weight_unit,e.capacity_unit=i.capacity_unit,e.length_unit=i.length_unit,e.standard_length_unit=i.standard_length_unit}))},getMaximumModelableDepthGivenConcTypeAndUnits:function(t){var e=t;return"slabs and walls (1-D)"==e.typeOfStructure?"US units"==e.baseUnits?10:"Centimeter metric"==e.baseUnits?25:250:"US units"==e.baseUnits?100:"Centimeter metric"==e.baseUnits?250:2500},getColor:function(t){if(t>=123){var e=Math.min(1,(t-123)/123);n=parseInt(255*e),i=255-parseInt(255*e),a=0}else{e=Math.max(0,(t-0)/122);i=parseInt(255*e),a=255-parseInt(255*e),n=0}var i=Math.min(Math.max(0,i),255),n=Math.min(Math.max(0,n),255),a=Math.min(Math.max(0,a),255);return"rgb(".concat(i,", ").concat(n,", ").concat(a,")")}}};const a=(0,i(1900).Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"figureCanvas"}},[i("v-stage",{ref:"slsxStage",attrs:{config:t.configKonva}})],1)}),[],!1,null,null,null).exports},1900:(t,e,i)=>{function n(t,e,i,n,a,s,o,r){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),s&&(h._scopeId="data-v-"+s),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):a&&(l=r?function(){a.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var d=h.beforeCreate;h.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:h}}i.d(e,{Z:()=>n})}}]);
//# sourceMappingURL=7148.js.map?id=0d5b051fb5c234ee